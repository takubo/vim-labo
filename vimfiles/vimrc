"set encoding=utf-8
vim9script
# vim: set ts=8 sts=2 sw=2 tw=0 et:
scriptencoding utf-8


#=============================================================================================
# Options
# Setting
# Utilities
# Plugins
#=============================================================================================


#---------------------------------------------------------------------------------------------
# 独自ビルド版
#---------------------------------------------------------------------------------------------
if 0
  set runtimepath^=~/vim/runtime
  $VIM = '~/vim/runtime'
endif


#---------------------------------------------------------------------------------------------
# Environment Variables
#---------------------------------------------------------------------------------------------

#$MYVIMFILES = expand('<sfile>:p:h')
$MYVIMFILES = fnamemodify($MYVIMRC, ':p:h')


#---------------------------------------------------------------------------------------------
# Leader
#---------------------------------------------------------------------------------------------

legacy let mapleader = "\<Space>"

# Leader(Space)の空打ちで、カーソルが一つ進むのが鬱陶しいので。
nnoremap <Leader> <Nop>


#---------------------------------------------------------------------------------------------
# Make Directories
#---------------------------------------------------------------------------------------------

def MkVimDir(path: string)
  const p = $HOME .. '/' .. path
  if !isdirectory(p)
    mkdir(p)
  endif
enddef

MkVimDir('vim_undo')
MkVimDir('vim_buckup')
MkVimDir('vim_swap')
MkVimDir('vim_view')


#---------------------------------------------------------------------------------------------
# Options
#---------------------------------------------------------------------------------------------

exe $'source {$MYVIMFILES}/options.vim'


#---------------------------------------------------------------------------------------------
# Vimrc Default
#---------------------------------------------------------------------------------------------

syntax enable

filetype plugin indent on


#---------------------------------------------------------------------------------------------
# Timeoutlen
#---------------------------------------------------------------------------------------------

set timeoutlen=1100

augroup MyVimrc_Timeoutlen
  au!
  au InsertEnter * set timeoutlen=700
  au InsertLeave * set timeoutlen=1100
augroup end


#---------------------------------------------------------------------------------------------
# Colorscheme
#---------------------------------------------------------------------------------------------

#-------------------------------------------------
# Gold

g:RimpaGold = true

com! Gold {
            g:RimpaGold = !g:RimpaGold
            colorscheme rimpa
          }

def g:IsGold(): bool
  return g:RimpaGold
enddef

# nnoremap , <Cmd>Gold<CR><Cmd>redrawtabline<CR><Cmd>redrawstatus!<CR>

#-------------------------------------------------
# Dark

g:RimpaDark = true

com! Dark {
            g:RimpaDark = !g:RimpaDark
            colorscheme rimpa
          }

# nnoremap @ <Cmd>Dark<CR>

#-------------------------------------------------
# Colorscheme

colorscheme rimpa


#---------------------------------------------------------------------------------------------
# System RC Configuration
#---------------------------------------------------------------------------------------------

# Don't set 'stl' by $VIMRUNTIME/ftplugin/qf.vim
g:qf_disable_statusline = 1


#---------------------------------------------------------------------------------------------
# Plugins Configuration
#---------------------------------------------------------------------------------------------

exe $'source {$MYVIMFILES}/plugin_cfg.vim'
